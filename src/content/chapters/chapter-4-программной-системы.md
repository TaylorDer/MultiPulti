# ПРОГРАММНОЙ СИСТЕМЫ



**Иерархическая структура** программной системы – основной резуль
тат предварительного проектирования. Она определяет состав модулей
**ПС** и управляющие отношения между модулями. В этой структуре **модуль**
более высокого уровня (начальник) управляет модулем нижнего уровня
(подчинённым).
Рис. 1.17. **Иерархическая структура** программной системы
**Иерархическая структура** не отражает процедурные особенности
программной системы, т.е. последовательность операций, их повторение,
ветвление и т.д. Рассмотрим основные характеристики иерархической
структуры, представленной на рис. 1.17.
Первичными характеристиками являются количество вершин (моду
лей) и количество рёбер (связей между модулями). К ним добавляются
две глобальные характеристики – высота и ширина:
высота – количество уровней управления;
ширина – максимальное из количеств модулей, размещённых на
уровнях управления.
В нашем примере высота = 4, ширина = 6.
Локальными характеристиками модулей структуры являются коэф
фициент объединения по входу и **коэффициент разветвления** по выходу.
****Коэффициент объединения**** по входу Fan_in(i) – это количество мо
дулей, которые прямо управляют i-м модулем.
В примере для модуля n: Fan_in(n)=4.
**Коэффициент разветвления** по выходу Fan_out(i) – это количество
модулей, которыми прямо управляет i-й **модуль**.
В примере для модуля m: Fan_out(m)=3.
Возникает вопрос: как оценить **качество** структуры? Из практики
проектирования известно, что лучшее решение обеспечивается иерархи
ческой структурой в виде дерева.
Степень отличия реальной проектной структуры от дерева характе
ризуется невязкой структурой. Как определить невязку?
Вспомним, что полный граф (complete graph) с п вершинами имеет
количество рёбер
ес = n
(n – 1) / 2,
а дерево (tree) с таким же количеством вершин – существенно меньшее
количество рёбер
et = n – 1.
Тогда формулу невязки можно построить, сравнивая количество рё
бер полного графа, реального графа и дерева.
Для проектной структуры с п вершинами и е рёбрами невязка опре
деляется по выражению
)2 ()1 (
)1 (2
)1 (2 )1 (
2)1 ( Nev − −
+ − = − − −
+ − = −
− = n n
n e
n nn
n e
e e
e e
t c
t .
Значение невязки лежит в диапазоне от 0 до 1. Если Nev = 0, то
проектная структура является деревом, если Nev = 1, то проектная струк
тура – полный граф.
Ясно, что невязка даёт грубую оценку структуры. Для увеличения
точности оценки следует применить характеристики связности и сцепления.
Хорошая структура должна иметь низкое **сцепление** и высокую связ
ность.
В [5] предложено оценивать структуру с помощью коэффициентов
Fan_in(i) и Fan_out(i) модулей.
Большое значение Fan_in(i) – свидетельство высокого сцепления, так
как является мерой зависимости модуля. Большое значение Fan_out(i) го
ворит о высокой сложности вызывающего модуля. Причиной является то,
что для координации подчинённых модулей требуется сложная логика
управления.
Основной недостаток коэффициентов Fan_in(i) и Fan_out(i) состоит в
игнорировании веса связи. Здесь рассматриваются только управляющие
потоки (вызовы модулей). В то же время информационные потоки, на
гружающие рёбра структуры могут существенно изменяться, поэтому
нужна мера, которая учитывает не только количество рёбер, но и количе
ство информации, проходящей через них.
В [10] введены информационные коэффициенты ifan_in(i) и ifan_out(j).
Они учитывают количество элементов и структур данных, из которых
i-й **модуль** берёт информацию и которые обновляются j-м модулем соот
ветственно.
Информационные коэффициенты суммируются со структурными ко
эффициентами sfan_in(i) и sfan_out( j), которые учитывают только вызовы
модулей.
В результате формируются полные значения коэффициентов:
Fan_in (i) = sfan_in (i) + ifan_in (i),
Fan_out (j) = sfan_out (j) + ifan_out (j).
На основе полных коэффициентов модулей вычисляется метрика
общей сложности структуры
n
S
=
∑
i
=
i
)
length( × (Fan_in(i) + Fan_out(i))2,
где length(i) – оценка размера i-го модуля (в виде LOC- или FP-оценки).