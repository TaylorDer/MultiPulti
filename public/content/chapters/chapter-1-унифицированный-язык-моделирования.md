# УНИФИЦИРОВАННЫЙ ЯЗЫК МОДЕЛИРОВАНИЯ


**UML** - стандартный язык для написания моделей анализа, проекти
рования и реализации объектно-ориентированных программных систем
[17], [18], [19]. **UML** может использоваться для визуализации, специфика
ции, конструирования и документирования результатов программных
проектов. **UML** - это не визуальный язык программирования, однако его
модели прямо транслируются в текст на языках программирования (Java,
C++, Visual Basic, Object Pascal) и даже в таблицы для реляционной **БД**.
Словарь **UML** образуют три разновидности строительных блоков:
предметы, отношения, диаграммы.
**Предметы** - это абстракции, которые являются основными элемен
тами в модели, отношения связывают эти предметы, диаграммы группи
руют коллекции предметов.
ПРЕДМЕТЫ В **UML**
В **UML** имеются четыре разновидности предметов:
структурные предметы;
предметы поведения;
группирующие предметы;
поясняющие предметы.
Эти предметы являются базовыми объектно-ориентированными
строительными блоками. Они используются для написания моделей.
Структурные предметы являются существительными в **UML**-моде-
лях. Они представляют статические части модели - понятийные или фи
зические элементы. Перечислим восемь разновидностей структурных
предметов.
1. **Класс** - описание множества объектов,
которые разделяют одинаковые свойства, опера
ции, отношения и семантику (смысл). **Класс** реа
лизует один или несколько интерфейсов. Как
показано на рис. 3.1, графически **класс** отобража
ется в виде прямоугольника, обычно включаю
щего секции с именем, свойствами (атрибутами)
и операциями.
Рис. 3.1. Классы
Рис. 3.2. Интерфейсы
2. Интерфейс - набор операций, которые
определяют услуги класса или компонента. Ин
терфейс описывает поведение элемента, видимое
извне. Интерфейс может представлять полные
услуги класса или компонента или часть таких
услуг. Интерфейс определяет набор специфика
ций операций (их сигнатуры), а не набор реали
заций операций. Графически интерфейс изобра
жается в виде кружка с именем, как показано на
рис. 3.2. Имя интерфейса обычно начинается с
буквы «I». Интерфейс редко показывают самостоятельно. Обычно его
присоединяют к классу или компоненту, который реализует интерфейс.
3. Кооперация (сотрудничество) определяет взаимодействие и явля
ется совокупностью ролей и других элементов, которые работают вместе
для обеспечения коллективного поведения более сложного, чем простая
сумма всех элементов. Таким образом, кооперации имеют как структур
ное, так и поведенческое измерения. Конкретный **класс** может участво
вать в нескольких кооперациях. Эти кооперации представляют реализа
цию паттернов (образцов), которые форми
Рис. 3.3. Кооперации
руют систему. Как показано на рис. 3.3,
графически кооперация изображается как
пунктирный эллипс, в который вписывается
её имя.
4. Актёр - набор согласованных ролей,
которые могут играть пользователи при
взаимодействии с системой (её элементами
Use **Case**). Каждая роль требует от системы
определённого поведения. Как показано на
рис. 3.4, актёр изображается как проволоч
ный человечек с именем.
5. Элемент Use **Case** (Прецедент) -
описание последовательности действий (или
нескольких последовательностей), выпол
няемых системой в интересах отдельного
актёра и производящих видимый для актёра
результат. В модели элемент Use **Case** при
меняется для структурирования предметов
поведения. Элемент Use **Case** реализуется
кооперацией. Как показано на рис. 3.5, эле
мент Use **Case** изображается как эллипс, в
который вписывается его имя.
Рис. 3.4. Актёры
Рис. 3.5. Элементы Use **Case**
Рис. 3.6. Активные классы
6. Активный **класс** - **класс**, чьи объекты имеют один или несколько
процессов (или потоков) и поэтому могут инициировать управляющую
деятельность. Активный **класс** похож на обычный **класс** за исключением
того, что его объекты действуют одновременно с объектами других клас
сов. Как показано на рис. 3.6, активный **класс** изображается как утолщён
ный прямоугольник, обычно включающий имя, свойства (атрибуты) и
операции.
7. Компонент - физическая и заменяемая часть системы, которая
соответствует набору интерфейсов и обеспечивает реализацию этого на
бора интерфейсов. В систему включаются как компоненты, являющиеся
результатами процесса разработки (файлы исходного кода), так и различ
ные разновидности используемых компонентов (СОМ+-компоненты, Java
Beans). Обычно, **компонент** - это физическая упа
ковка различных логических элементов (классов,
интерфейсов и сотрудничеств). Как показано на
рис. 3.7, компонент изображается как прямоуголь
ник с вкладками, обычно включающий имя.
8. Узел - физический элемент, который су
ществует в период работы системы и представляет
ресурс, обычно имеющий память и возможности
обработки. В узле размещается набор компонен
тов, который может перемещаться от узла к узлу.
Как показано на рис. 3.8, узел изображается как
куб с именем.
Рис. 3.7. Компоненты
Рис. 3.8. Узлы
Предметы поведения - динамические части **UML**-моделей. Они явля
ются глаголами моделей, представлением поведения во времени и про
странстве. Существует две основные разновидности предметов поведения.
1. Взаимодействие - поведение, заключающее
Рис. 3.9. Сообщения
в себе набор сообщений, которыми обменивается
набор объектов в конкретном контексте для дости
жения определённой цели. Взаимодействие может
определять динамику как совокупности объектов, так и отдельной опера
ции. Элементами взаимодействия являются сообщения, последователь
ность действий (поведение, вызываемое сообщением) и связи (соединения
между объектами). Как показано на рис. 3.9, сообщение изображается в
виде направленной линии с именем её операции.
Рис. 3.10. Состояния
2. Конечный автомат - поведение, которое
определяет последовательность состояний объекта
или взаимодействия, выполняемые в ходе его суще
ствования в ответ на события (и с учётом обязанно
стей по этим событиям). С помощью конечного ав
томата может определяться поведение индивидуального класса или коо
перации классов. Элементами конечного автомата являются состояния,
переходы (от состояния к состоянию), события (предметы, вызывающие
переходы) и действия (реакции на переход). Как показано на рис. 3.10,
состояние изображается как закруглённый прямоугольник, обычно вклю
чающий его имя и его подсостояния (если они есть).
Эти два элемента - взаимодействия и конечные автоматы - являются
базисными предметами поведения, которые могут включаться в **UML**-моде-
ли. Семантически эти элементы ассоциируются с различными структурными
элементами (прежде всего с классами, сотрудничествами и объектами).
Группирующие предметы - организационные части **UML**-моделей.
Это ящики, по которым может быть разложена модель. Предусмотрена
одна разновидность группирующего предмета - пакет.
Рис. 3.11. Пакеты
Пакет - общий механизм для распределения
элементов по группам. В пакет могут помещаться
структурные предметы, предметы поведения и даже
другие группировки предметов. В отличие от ком
понента (который существует в период выполне
ния), пакет - чисто концептуальное понятие. Это
означает, что пакет существует только в период разработки. Как показано
на рис. 3.11, пакет изображается как папка с закладкой, на которой обо
значено его имя и, иногда, его содержание.
Поясняющие предметы - разъясняющие части **UML**-моделей. Они
являются замечаниями, которые можно применить для описания, объяс
нения и комментирования любого элемента модели. Предусмотрена одна
разновидность поясняющего предмета - примечание.
Примечание - символ для отображения огра
ничений и замечаний, присоединяемых к элементу
или совокупности элементов. Как показано на
рис. 3.12, примечание изображается в виде прямо
Рис. 3.12. Примечания
угольника с загнутым углом, в который вписывается текстовый или гра
фический комментарий.
ОТНОШЕНИЯ В **UML**
В **UML** имеются четыре разновидности отношений:
1) **зависимость**;
2) **ассоциация**;
3) обобщение;
4) реализация.
Эти отношения являются базовыми строительными блоками отно
шений. Они используются при написании моделей.
1. **Зависимость** - семантическое отношение
между двумя предметами, в котором изменение в
одном предмете (независимом предмете) может
Рис. 3.13. Зависимости
влиять на семантику другого предмета (зависимого предмета). Как пока
зано на рис. 3.13, **зависимость** изображается в виде пунктирной линии,
возможно направленной на независимый предмет и иногда имеющей мет
ку.
2. **Ассоциация** - структурное отноше
ние, которое описывает набор связей, яв
ляющихся соединением между объектами.
**Агрегация** - это специальная разновид
ность ассоциации, представляющая струк
Рис. 3.14. Ассоциации
турное отношение между целым и его частями. Как показано на рис. 3.14,
**ассоциация** изображается в виде сплошной линии, возможно направлен
ной, иногда имеющей метку и часто включающей другие «украшения»,
такие как мощность и имена ролей.
3. Обобщение - отношение специализации/
обобщения, в котором объекты специализирован
ного элемента (потомка, ребенка) могут заменять
объекты обобщённого элемента (предка, родителя).
Рис. 3.15. Обобщения
Иначе говоря, потомок разделяет структуру и поведение родителя. Как
показано на рис. 3.15, обобщение изображается в виде сплошной стрелки
с полым наконечником, указывающим на родителя.
4. Реализация - семантическое отношение между классификатора
ми, где один классификатор определяет контракт, который другой клас
сификатор обязуется выполнять (к классификаторам относят классы, ин
терфейсы, компоненты, элементы Use **Case**, кооперации). Отношения
Рис. 3.16. Реализации
реализации применяют в двух случаях: между ин
терфейсами и классами (или компонентами), реали
зующими их; между элементами Use **Case** и коопе
рациями, которые реализуют их. Как показано на рис. 3.16, реализация
изображается как нечто среднее между обобщением и зависимостью.
ДИАГРАММЫ В **UML**
Диаграмма - графическое представление множества элементов, наи
более часто изображается как связный граф из вершин (предметов) и дуг
(отношений). Диаграммы рисуются для визуализации системы с разных
точек зрения, затем они отображаются в систему. Обычно диаграмма даёт
неполное представление элементов, которые составляют систему. Хотя
один и тот же элемент может появляться во всех диаграммах, на практике
он появляется только в некоторых диаграммах. Теоретически диаграмма
может содержать любую комбинацию предметов и отношений, на прак
тике ограничиваются малым количеством комбинаций, которые соответ
ствуют пяти представлениям архитектуры **ПС**. По этой причине **UML**
включает девять видов диаграмм:
1) диаграммы классов;
2) диаграммы объектов;
3) диаграммы Use **Case** (диаграммы прецедентов);
4) диаграммы последовательности;
5) диаграммы сотрудничества (кооперации);
6) диаграммы схем состояний;
7) диаграммы деятельности;
8) компонентные диаграммы;
9) диаграммы размещения (развёртывания).
**Диаграмма классов** показывает набор классов, интерфейсов, сотруд
ничеств и их отношений. При моделировании объектно-ориентированных
систем диаграммы классов используются наиболее часто. Диаграммы
классов обеспечивают статическое проектное представление системы.
Диаграммы классов, включающие активные классы, обеспечивают стати
ческое представление процессов системы.
**Диаграмма объектов** показывает набор объектов и их отношения.
**Диаграмма объектов** представляет статический «моментальный снимок» с
экземпляров предметов, которые находятся в диаграммах классов. Как и
диаграммы классов, эти диаграммы обеспечивают статическое проектное
представление или статическое представление процессов системы (но с
точки зрения реальных или фототипичных случаев).
**Диаграмма Use Case** (диаграмма прецедентов) показывает набор
элементов Use **Case**, актёров и их отношений. С помощью диаграмм Use
**Case** для системы создаётся статическое представление Use **Case**. Эти диа
граммы особенно важны при организации и моделировании поведения
системы, задании требований заказчика к системе.
Диаграммы последовательн**ости и диаграммы сотрудничества** - это
разновидности диаграмм взаимодействия.
Диаграмма взаимодействия показывает взаимодействие, включаю
щее набор объектов и их отношений, а также пересылаемые между объек
тами сообщения. Диаграммы взаимодействия обеспечивают динамиче
ское представление системы.
**Диаграмма последовательности** - это диаграмма взаимодействия,
которая выделяет упорядочение сообщений по времени.
**Диаграмма сотрудничества** (диаграмма кооперации) - это диаграм
ма взаимодействия, которая выделяет структурную организацию объек
тов, посылающих и принимающих сообщения. Диаграммы последова
тельности и диаграммы сотрудничества изоморфны, что означает, что
одну диаграмму можно трансформировать в другую диаграмму.
**Диаграмма схем состояний** показывает конечный автомат, представ
ляет состояния, переходы, события и действия. Диаграммы схем состоя
ний обеспечивают динамическое представление системы. Они особенно
важны при моделировании поведения интерфейса, класса или сотрудни
чества. Эти диаграммы выделяют такое поведение объекта, которое
управляется событиями, что особенно полезно при моделировании реак
тивных систем.
**Диаграмма деятельности** - специальная разновидность диаграммы
схем состояний, которая показывает поток от действия к действию внутри
системы. Диаграммы деятельности обеспечивают динамическое пред
ставление системы. Они особенно важны при моделировании функцио
нальности системы и выделяют поток управления между объектами.
**Компонентная диаграмма** показывает организацию набора компо
нентов и зависимости между компонентами. Компонентные диаграммы
обеспечивают статическое представление реализации системы. Они свя
заны с диаграммами классов в том смысле, что в компонент обычно ото
бражается один или несколько классов, интерфейсов или коопераций.
**Диаграмма размещения** (диаграмма развёртывания) показывает кон
фигурацию обрабатывающих узлов периода выполнения, а также компо
ненты, живущие в них. Диаграммы размещения обеспечивают статиче
ское представление размещения системы. Они связаны с компонентными
диаграммами в том смысле, что узел обычно включает один или несколь
ко компонентов.
МЕХАНИЗМЫ РАСШИРЕНИЯ В **UML**
**UML** - развитый язык, имеющий большие возможности, но даже он
не может отразить все нюансы, которые могут возникнуть при создании
различных моделей. Поэтому **UML** создавался как открытый язык, допус-
Рис. 3.17. Ограничения
кающий контролируемые расширения. Механизмами расширения в **UML**
являются:
ограничения;
теговые величины;
стереотипы.
Ограничение (constraint) расширяет семантику строительного **UML**
блока, позволяя добавить новые правила или модифицировать сущест
вующие. Ограничение показывают как текстовую строку, заключённую в
фигурные скобки {}. Например, на рисунке 3.17 введено простое ограни
чение на свойство Сумма класса СессияБанкомата - его значение должно
быть кратно 20. Кроме того, здесь показано ограничение на два элемента
(две ассоциации), оно располагается возле пунктирной линии, соединяю
щей элементы, и имеет следующий смысл - владельцем конкретного счё
та не может быть и организация, и персона.
Теговая величина (tagged value) расширяет характеристики строи
тельного **UML**-блока, позволяя создать новую информацию в специфика
ции конкретного элемента. Теговую величину показывают как строку в
фигурных скобках {}. Строка имеет вид
имя теговой величины = значение.
Иногда (в случае предопределённых тегов) указывается только имя
теговой величины.
Отметим, что при работе с продуктом, имеющим много реализаций,
полезно отслеживать версию и автора определённых блоков. Версия и
автор не принадлежат к основным понятиям **UML**. Они могут быть добав
лены к любому строительному блоку (на
пример, к классу) введением в блок новых
теговых величин. Например, на рисунке 3.18
**класс** «ТекстовыйПроцессор» расширен пу
тём явного указания его версии и автора.
Рис. 3.18. Расширение класса
Рис. 3.19. Стереотипы
Стереотип (stereotype) расширяет словарь языка, позволяет созда
вать новые виды строительных блоков, производные от существующих и
учитывающие специфику новой проблемы. Элемент со стереотипом явля
ется вариацией существующего элемента, имеющей такую же форму, но
отличающуюся по сути. У него могут быть дополнительные ограничения
и теговые величины, а также другое визуальное представление. Он иначе
обрабатывается при генерации программного кода. Отображают стерео
тип как имя, указываемое в двойных угловых скобках (или в угловых ка
вычках).
Примеры элементов со стереотипами приведены на рис. 3.19. Сте
реотип «exception» говорит о том, что **класс** «ПотеряЗначимости» теперь
рассматривается как специальный **класс**, которому, положим, разрешается
только генерация и обработка сигналов-исключений. Особые возможно
сти метакласса получил **класс** «ЭлементМодели». Кроме того, здесь пока
зано применение стереотипа «call» к отношению зависимости (у него поя
вился новый смысл).
Таким образом, механизмы расширения позволяют адаптировать
**UML** под нужды конкретных проектов и под новые программные техно
логии. Возможно добавление новых строительных блоков, модификация
спецификаций существующих блоков и даже изменение их семантики.
Конечно, очень важно обеспечить контролируемое введение расширений.