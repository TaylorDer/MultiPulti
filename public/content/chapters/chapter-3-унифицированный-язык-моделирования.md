# УНИФИЦИРОВАННЫЙ ЯЗЫК МОДЕЛИРОВАНИЯ

UML - стандартный язык для написания моделей анализа, проектирования и реализации объектно-ориентированных программных систем [17], [18], [19]. UML может использоваться для визуализации, спецификации, конструирования и документирования результатов программных проектов. UML - это не визуальный язык программирования, однако его модели прямо транслируются в текст на языках программирования (Java,

C++, Visual Basic, Object Pascal) и даже в таблицы для реляционной БД.

Словарь UML образуют три разновидности строительных блоков: предметы, отношения, диаграммы.

**Предметы** - это абстракции, которые являются основными элементами в модели, отношения связывают эти предметы, диаграммы группируют коллекции предметов.

ПРЕДМЕТЫ В UML

В UML имеются четыре разновидности предметов:

структурные предметы; предметы поведения; группирующие предметы; поясняющие предметы.

Эти предметы являются базовыми объектно-ориентированными строительными блоками. Они используются для написания моделей.

Структурные предметы являются существительными в UML-моде- лях. Они представляют статические части модели - понятийные или физические элементы. Перечислим восемь разновидностей структурных

предметов.

Класс - описание множества объектов,

которые разделяют одинаковые свойства, операции, отношения и семантику (смысл). Класс реализует один или несколько интерфейсов. Как показано на рис. 3.1, графически класс отображается в виде прямоугольника, обычно включающего секции с именем, свойствами (атрибутами) и операциями.

Интерфейс - набор операций, которые определяют услуги класса или компонента. Ин-

услуги класса или компонента или часть таких услуг. Интерфейс определяет набор спецификаций операций (их сигнатуры), а не набор реали-

заций операций. Графически интерфейс изобра-

![Рис. 3.2. Интерфейсы жается в виде кружка с именем, как показано на](/images/milovanov/ris_3_2.png)

Рис. 3.2. Интерфейсы 	жается в виде кружка с именем, как показано на

рис. 3.2. Имя интерфейса обычно начинается с

буквы «I». Интерфейс редко показывают самостоятельно. Обычно его присоединяют к классу или компоненту, который реализует интерфейс.

Кооперация (сотрудничество) определяет взаимодействие и является совокупностью ролей и других элементов, которые работают вместе для обеспечения коллективного поведения более сложного, чем простая сумма всех элементов. Таким образом, кооперации имеют как структурное, так и поведенческое измерения. Конкретный класс может участвовать в нескольких кооперациях. Эти кооперации представляют реализацию паттернов (образцов), которые формируют систему. Как показано на рис. 3.3, графически кооперация изображается как

пунктирный эллипс, в который вписывается

![Рис. 3.3. Кооперации её имя.](/images/milovanov/ris_3_3.png)

Рис. 3.3. Кооперации 	её имя.

Актёр - набор согласованных ролей, которые могут играть пользователи при взаимодействии с системой (её элементами Use Case). Каждая роль требует от системы определённого поведения. Как показано на рис. 3.4, актёр изображается как проволочный человечек с именем.

Элемент Use Case (Прецедент) - описание последовательности действий (или нескольких последовательностей), выполняемых системой в интересах отдельного актёра и производящих видимый для актёра результат. В модели элемент Use Case применяется для структурирования предметов поведения. Элемент Use Case реализуется кооперацией. Как показано на рис. 3.5, элемент Use Case изображается как эллипс, в который вписывается его имя.

![Рис. 3.4. Актёры](/images/milovanov/ris_3_4.png)

Рис. 3.4. Актёры

![Рис. 3.5. Элементы Use Case](/images/milovanov/ris_3_5.png)

Рис. 3.5. Элементы Use Case

![Рис. 3.6. Активные классы](/images/milovanov/ris_3_6.png)

Рис. 3.6. Активные классы

Активный класс - класс, чьи объекты имеют один или несколько процессов (или потоков) и поэтому могут инициировать управляющую деятельность. Активный класс похож на обычный класс за исключением того, что его объекты действуют одновременно с объектами других классов. Как показано на рис. 3.6, активный класс изображается как утолщённый прямоугольник, обычно включающий имя, свойства (атрибуты) и операции.

Компонент - физическая и заменяемая часть системы, которая соответствует набору интерфейсов и обеспечивает реализацию этого набора интерфейсов. В систему включаются как компоненты, являющиеся результатами процесса разработки (файлы исходного кода), так и различные разновидности используемых компонентов (СОМ+-компоненты, Java

Beans). Обычно, компонент - это физическая упаковка различных логических элементов (классов, интерфейсов и сотрудничеств). Как показано на

![Рис. 3.7. , компонент изображается как прямоугольник с вкладками, обычно включающий имя.](/images/milovanov/ris_3_7.png)

рис. 3.7, компонент изображается как прямоугольник с вкладками, обычно включающий имя.

Узел - физический элемент, который су- Рис. 3.7. Компоненты ществует в период работы системы и представляет

ресурс, обычно имеющий память и возможности обработки. В узле размещается набор компонентов, который может перемещаться от узла к узлу.

Как показано на рис. 3.8, узел изображается как куб с именем. 	Рис. 3.8. Узлы Предметы поведения - динамические части UML-моделей. Они являются глаголами моделей, представлением поведения во времени и пространстве. Существует две основные разновидности предметов поведения.

Взаимодействие - поведение, заключающее в себе набор сообщений, которыми обменивается

![Рис. 3.9. Сообщения набор объектов в конкретном контексте для дости жения определённой цели. Взаимодействие может определять динамику как совокупности объектов, так и отдельной операции. Элементами взаимодействия являются сообщения, последовательность действий (поведение, вызываемое сообщением) и связи (соединения между объектами). Как показано на рис. 3.9, сообщение изображается в виде направленной линии с именем её операции.](/images/milovanov/ris_3_9.png)

Рис. 3.9. Сообщения набор объектов в конкретном контексте для дости жения определённой цели. Взаимодействие может определять динамику как совокупности объектов, так и отдельной операции. Элементами взаимодействия являются сообщения, последовательность действий (поведение, вызываемое сообщением) и связи (соединения между объектами). Как показано на рис. 3.9, сообщение изображается в виде направленной линии с именем её операции.

Конечный автомат - поведение, которое

определяет последовательность состояний объекта или взаимодействия, выполняемые в ходе его сущеРис. 3.10. Состояния ствования в ответ на события (и с учётом обязанно стей по этим событиям). С помощью конечного автомата может определяться поведение индивидуального класса или кооперации классов. Элементами конечного автомата являются состояния, переходы (от состояния к состоянию), события (предметы, вызывающие переходы) и действия (реакции на переход). Как показано на рис. 3.10, состояние изображается как закруглённый прямоугольник, обычно включающий его имя и его подсостояния (если они есть).

Эти два элемента - взаимодействия и конечные автоматы - являются базисными предметами поведения, которые могут включаться в UML-моде- ли. Семантически эти элементы ассоциируются с различными структурными элементами (прежде всего с классами, сотрудничествами и объектами).

Группирующие предметы - организационные части UML-моделей. Это ящики, по которым может быть разложена модель. Предусмотрена одна разновидность группирующего предмета - пакет.

Пакет - общий механизм для распределения элементов по группам. В пакет могут помещаться структурные предметы, предметы поведения и даже

другие группировки предметов. В отличие от ком-

![Рис. 3.11. Пакеты понента (который существует в период выполне-](/images/milovanov/ris_3_11.png)

Рис. 3.11. Пакеты 	понента (который существует в период выполне-

ния), пакет - чисто концептуальное понятие. Это означает, что пакет существует только в период разработки. Как показано на рис. 3.11, пакет изображается как папка с закладкой, на которой обозначено его имя и, иногда, его содержание.

Поясняющие предметы - разъясняющие части UML-моделей. Они являются замечаниями, которые можно применить для описания, объяснения и комментирования любого элемента модели. Предусмотрена одна разновидность поясняющего предмета - примечание.

Примечание - символ для отображения ограничений и замечаний, присоединяемых к элементу

или совокупности элементов. Как показано на

![Рис. 3.12. , примечание изображается в виде прямо- Рис. 3.12. Примечания угольника с загнутым углом, в который вписывается текстовый или графический комментарий.](/images/milovanov/ris_3_12.png)

рис. 3.12, примечание изображается в виде прямо- Рис. 3.12. Примечания угольника с загнутым углом, в который вписывается текстовый или графический комментарий.

ОТНОШЕНИЯ В UML

В UML имеются четыре разновидности отношений: 1) зависимость;

2) ассоциация; 3) обобщение;

4) реализация.

Эти отношения являются базовыми строительными блоками отношений. Они используются при написании моделей.

Зависимость - семантическое отношение

между двумя предметами, в котором изменение в Рис. 3.13. Зависим ости одном предмете (независимом предмете) может

влиять на семантику другого предмета (зависимого предмета). Как показано на рис. 3.13, зависимость изображается в виде пунктирной линии, возможно направленной на независимый предмет и иногда имеющей метку.

Ассоциация - структурное отношение, которое описывает набор связей, являющихся соединением между объектами. **Агрегация** - это специальная разновид- Рис. 3.14. Ассоциации ность ассоциации, представляющая струк-

турное отношение между целым и его частями. Как показано на рис. 3.14, ассоциация изображается в виде сплошной линии, возможно направленной, иногда имеющей метку и часто включающей другие «украшения», такие как мощность и имена ролей.

Обобщение - отношение специализации/

обобщения, в котором объекты специализирован- ного элемента (потомка, ребенка) могут заменять Рис. 3.15. Обобщения объекты обобщённого элемента (предка, родителя).

Иначе говоря, потомок разделяет структуру и поведение родителя. Как показано на рис. 3.15, обобщение изображается в виде сплошной стрелки с полым наконечником, указывающим на родителя.

Реализация - семантическое отношение между классификаторами, где один классификатор определяет контракт, который другой классификатор обязуется выполнять (к классификаторам относят классы, интерфейсы, компоненты, элементы Use Case, кооперации). Отношения реализации применяют в двух случаях: между ин-

терфейсами и классами (или компонентами), реалиРис. 3.16. Реализации зующими их; между элементами Use Case и кооперациями, которые реализуют их. Как показано на рис. 3.16, реализация изображается как нечто среднее между обобщением и зависимостью.

ДИАГРАММЫ В UML

Диаграмма - графическое представление множества элементов, наиболее часто изображается как связный граф из вершин (предметов) и дуг (отношений). Диаграммы рисуются для визуализации системы с разных точек зрения, затем они отображаются в систему. Обычно диаграмма даёт неполное представление элементов, которые составляют систему. Хотя один и тот же элемент может появляться во всех диаграммах, на практике он появляется только в некоторых диаграммах. Теоретически диаграмма может содержать любую комбинацию предметов и отношений, на практике ограничиваются малым количеством комбинаций, которые соответствуют пяти представлениям архитектуры ПС. По этой причине UML включает девять видов диаграмм:

диаграммы классов;

диаграммы объектов;

диаграммы Use Case (диаграммы прецедентов);

диаграммы последовательности;

диаграммы сотрудничества (кооперации);

диаграммы схем состояний;

диаграммы деятельности;

компонентные диаграммы;

диаграммы размещения (развёртывания).

Диаграмма классов показывает набор классов, интерфейсов, сотрудничеств и их отношений. При моделировании объектно-ориентированных систем диаграммы классов используются наиболее часто. Диаграммы классов обеспечивают статическое проектное представление системы. Диаграммы классов, включающие активные классы, обеспечивают статическое представление процессов системы.

Диаграмма объектов показывает набор объектов и их отношения. Диаграмма объектов представляет статический «моментальный снимок» с экземпляров предметов, которые находятся в диаграммах классов. Как и диаграммы классов, эти диаграммы обеспечивают статическое проектное представление или статическое представление процессов системы (но с точки зрения реальных или фототипичных случаев).

Диаграмма Use Case (диаграмма прецедентов) показывает набор элементов Use Case, актёров и их отношений. С помощью диаграмм Use Case для системы создаётся статическое представление Use Case. Эти диаграммы особенно важны при организации и моделировании поведения системы, задании требований заказчика к системе.

Диаграммы последовательности и диаграммы сотрудничества - это разновидности диаграмм взаимодействия.

Диаграмма взаимодействия показывает взаимодействие, включающее набор объектов и их отношений, а также пересылаемые между объектами сообщения. Диаграммы взаимодействия обеспечивают динамическое представление системы.

**Диаграмма последовательности** - это диаграмма взаимодействия, которая выделяет упорядочение сообщений по времени.

Диаграмма сотрудничества (диаграмма кооперации) - это диаграмма взаимодействия, которая выделяет структурную организацию объектов, посылающих и принимающих сообщения. Диаграммы последовательности и диаграммы сотрудничества изоморфны, что означает, что одну диаграмму можно трансформировать в другую диаграмму.

Диаграмма схем состояний показывает конечный автомат, представляет состояния, переходы, события и действия. Диаграммы схем состояний обеспечивают динамическое представление системы. Они особенно важны при моделировании поведения интерфейса, класса или сотрудничества. Эти диаграммы выделяют такое поведение объекта, которое управляется событиями, что особенно полезно при моделировании реактивных систем.

Диаграмма деятельности - специальная разновидность диаграммы схем состояний, которая показывает поток от действия к действию внутри системы. Диаграммы деятельности обеспечивают динамическое представление системы. Они особенно важны при моделировании функциональности системы и выделяют поток управления между объектами.

Компонентная диаграмма показывает организацию набора компонентов и зависимости между компонентами. Компонентные диаграммы обеспечивают статическое представление реализации системы. Они связаны с диаграммами классов в том смысле, что в компонент обычно отображается один или несколько классов, интерфейсов или коопераций.

Диаграмма размещения (диаграмма развёртывания) показывает конфигурацию обрабатывающих узлов периода выполнения, а также компоненты, живущие в них. Диаграммы размещения обеспечивают статическое представление размещения системы. Они связаны с компонентными диаграммами в том смысле, что узел обычно включает один или несколько компонентов.

МЕХАНИЗМЫ РАСШИРЕНИЯ В UML

UML - развитый язык, имеющий большие возможности, но даже он не может отразить все нюансы, которые могут возникнуть при создании различных моделей. Поэтому UML создавался как открытый язык, допус-

![Рис. 3.17. Ограничения](/images/milovanov/ris_3_17.jpg)

Рис. 3.17. Ограничения

кающий контролируемые расширения. Механизмами расширения в UML являются:

ограничения; теговые величины; стереотипы.

Ограничение (constraint) расширяет семантику строительного UMLблока, позволяя добавить новые правила или модифицировать существующие. Ограничение показывают как текстовую строку, заключённую в фигурные скобки {}. Например, на рисунке 3.17 введено простое ограничение на свойство Сумма класса СессияБанкомата - его значение должно быть кратно 20. Кроме того, здесь показано ограничение на два элемента (две ассоциации), оно располагается возле пунктирной линии, соединяющей элементы, и имеет следующий смысл - владельцем конкретного счёта не может быть и организация, и персона.

Теговая величина (tagged value) расширяет характеристики строительного UML-блока, позволяя создать новую информацию в спецификации конкретного элемента. Теговую величину показывают как строку в фигурных скобках {}. Строка имеет вид

имя теговой величины = значение.

Иногда (в случае предопределённых тегов) указывается только имя теговой величины.

Отметим, что при работе с продуктом, имеющим много реализаций, полезно отслеживать версию и автора определённых блоков. Версия и

автор не принадлежат к основным понятиям UML. Они могут быть добав лены к любому строительному блоку (на-

пример, к классу) введением в блок новых теговых величин. Например, на рисунке 3.18

класс «ТекстовыйПроцессор» расширен пу-

![Рис. 3.18. Расширение класса тём явного указания его версии и автора.](/images/milovanov/ris_3_18.jpg)

Рис. 3.18. Расширение класса тём явного указания его версии и автора.

![Рис. 3.19. Стереотипы](/images/milovanov/ris_3_19.jpg)

Рис. 3.19. Стереотипы

Стереотип (stereotype) расширяет словарь языка, позволяет создавать новые виды строительных блоков, производные от существующих и учитывающие специфику новой проблемы. Элемент со стереотипом является вариацией существующего элемента, имеющей такую же форму, но отличающуюся по сути. У него могут быть дополнительные ограничения и теговые величины, а также другое визуальное представление. Он иначе обрабатывается при генерации программного кода. Отображают стереотип как имя, указываемое в двойных угловых скобках (или в угловых кавычках).

Примеры элементов со стереотипами приведены на рис. 3.19. Стереотип «exception» говорит о том, что класс «ПотеряЗначимости» теперь рассматривается как специальный класс, которому, положим, разрешается только генерация и обработка сигналов-исключений. Особые возможности метакласса получил класс «ЭлементМодели». Кроме того, здесь показано применение стереотипа «call» к отношению зависимости (у него появился новый смысл).

Таким образом, механизмы расширения позволяют адаптировать UML под нужды конкретных проектов и под новые программные технологии. Возможно добавление новых строительных блоков, модификация спецификаций существующих блоков и даже изменение их семантики. Конечно, очень важно обеспечить контролируемое введение расширений.