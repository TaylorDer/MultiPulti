# ВИДИМОСТЬ ОБЪЕКТОВ

Рассмотрим два объекта, А и В, между которыми имеется связь. Для того, чтобы объект А мог послать сообщение в объект В, надо, чтобы В был виден для А.

В примере из предыдущего подраздела объект «РабочийКонтроллер» должен видеть объект «РабочийГрафик» (чтобы иметь возможность использовать его как аргумент в операции «Обрабатывать»).

Различают четыре формы видимости между объектами.

Объект-поставщик (сервер) глобален для клиента.

Объект-поставщик (сервер) является параметром операции клиента.

Объект-поставщик (сервер) является частью объекта-клиента.

Объект-поставщик (сервер) является локально объявленным объектом в операции клиента.

На этапе анализа вопросы видимости обычно опускают. На этапах проектирования и реализации вопросы видимости по связям обязательно должны рассматриваться.

АГРЕГАЦИЯ

Связи обозначают равноправные (клиент-серверные) отношения между объектами. Агрегация обозначает отношения объектов в иерархии «целое/часть». Агрегация обеспечивает возможность перемещения от целого (агрегата) к его частям (свойствам).

В примере из подраздела «Связи» объект «РабочийКонтроллер» имеет свойство регулятор, чьим классом является «РегуляторУгла». Поэтому объект «РабочийКонтроллер» является агрегатом (целым), а экземпляр «РегуляторУгла» - одной из его частей. Из объекта «РабочийКонтроллер» всегда можно попасть в объект «РегуляторУгла». Обратный же переход (из части в целое) обеспечивается не всегда.

Агрегация может обозначать, а может и не обозначать физическое включение части в целое. На рисунке 2.7 приведён пример физического включения (композиции) частей (Двигателя, Сидений, Колес) в агрегат Автомобиль. В этом случае говорят, что части включены в агрегат по величине.

На рисунке 2.8 приведён пример нефизического включения частей (Студента, Преподавателя) в агрегат ВУЗ. Очевидно, что Студент и Преподаватель являются элементами ВУЗа, но они не входят в него физически. В этом случае говорят, что части включены в агрегат по ссылке.

Рис. 2.7. Физическое включение частей в агрегат

Рис. 2.8. Нефизическое включение частей в агрегат

Итак, между объектами существует два вида отношений - связи и агрегация. Какое из них выбрать?

При выборе вида отношения должны учитываться следующие факторы:

связи обеспечивают низкое сцепление между объектами; агрегация инкапсулирует части как секреты целого.

КЛАССЫ

Понятия объекта и класса тесно связаны. Тем не менее существует важное различие между этими понятиями. **Класс** - это абстракция существенных характеристик объекта.