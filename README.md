# MultiPulti — мультимедийное веб‑пособие по «Проектированию программных систем»

Это мой учебный проект: одностраничное приложение (SPA) на **React + Vite + TypeScript**, где теория хранится в markdown-файлах, формулы рендерятся через **KaTeX**, а изображения открываются в модальном окне.

Контент собран по учебному пособию **И.В. Милованов, В.И. Лоскутов — «Проектирование программных систем» (ТГТУ, 2011)** и используется в образовательных целях.

## Быстрый старт

Установка зависимостей:

```bash
npm install
```

Запуск dev-сервера:

```bash
npm run dev
```

По умолчанию Vite стартует на `http://localhost:3000` (порт задан в `vite.config.ts`).

Сборка:

```bash
npm run build
```

Просмотр сборки:

```bash
npm run preview
```

## Где лежит контент

- **Тексты разделов (markdown)**: `public/content/chapters/*.md`
  - В `src/data/chapters.ts` хранится структура (главы/разделы) и путь `markdownFile`, а сами тексты подгружаются на странице раздела через `fetch('/content/...')`.
- **Картинки**: `public/images/`
  - Большинство рисунков из методички лежит в `public/images/milovanov/`.
  - В markdown вставляются обычным способом: `![подпись](/images/milovanov/ris_1_5.png)`.
- **Видео “достижения”**: `public/video/Ach.mp4`
- **Звуки**: `public/sounds/` (если понадобятся в будущем)

## Фичи, которые есть в проекте

- **Содержание + навигация**: боковое меню по главам/разделам, “назад/вперёд”.
- **Прогресс чтения**: сохраняется в `localStorage`, отображается полоской прогресса на странице раздела.
- **Формулы**: KaTeX (inline и block).
- **Изображения**: кликабельные, открываются в модальном окне.
- **Тесты**: вкладка `/tests` с мини‑тестами по темам пособия.
- **Мини‑достижение при переходе дальше**: при клике на “следующий раздел” открывается мини‑окно с видео `Ach.mp4`, затем выполняется переход.

## Структура проекта (кратко)

```
MultiPulti/
├── public/
│   ├── content/chapters/         # markdown разделов
│   ├── images/                   # изображения (+ /milovanov)
│   ├── video/Ach.mp4             # видео достижения
│   └── sounds/                   # звуки (опционально)
├── src/
│   ├── components/               # Layout, Header, Sidebar, modals
│   ├── data/                     # chapters.ts, glossary.ts, tests.ts
│   ├── pages/                    # Home, TOC, Chapter, Glossary, Tests, About
│   └── utils/                    # markdown.tsx, storage.ts
└── vite.config.ts
```

## Как обновлять/пересобирать контент из Word

В `tools/` лежат утилиты для работы с исходником:

- `tools/docx_to_md.py` — конвертация `milovanov-t.docx` в markdown + структура.
- `tools/extract_docx_images_and_insert.py` — извлечение картинок и вставка их в markdown по подписям.

Я использую это как “плейбук”, когда нужно заново прогнать методичку и привести markdown к виду максимально близкому к Word.

## Роуты

- `/` — главная
- `/toc` — содержание
- `/chapter/:chapterId/section/:sectionId` — чтение раздела
- `/tests` — тесты
- `/glossary` — глоссарий
- `/about` — о пособии

## Примечания

- Если картинки не отображаются — проверь, что путь в markdown начинается с `/images/...` и файл реально лежит в `public/images/`.
- Если KaTeX “ругается” — чаще всего проблема в экранировании `\` (в markdown нужно `\\` в некоторых случаях).

## Лицензия

Учебный/образовательный проект.
